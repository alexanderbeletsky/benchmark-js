/*! benchmark-js - v0.0.1 - 2012-11-29
* Copyright (c) 2012 ; Licensed  */
module.exports=function(){var e=require("./chain"),t={initialize:function(){e.bindAll(this),this.contexts={}},sync:{createStrategy:function(e,t){function n(e,n,r){var i=e+" (repeated "+t.repeat+" times) took: ",o=" msec.",u=(new Date).getTime();for(var a=0;a<t.repeat;a++)s(n);var f=(new Date).getTime(),l=f-u;console.log(i+l+o),r()}function r(e,n,r){var i=e+" (repeated "+t.repeat+" times) took: ",o=" msec. (in average)",u=(new Date).getTime();for(var a=0;a<t.repeat;a++)s(n);var f=(new Date).getTime(),l=(f-u)/t.repeat;console.log(i+l+o),r()}function i(e,t,n){var r=e+" took: ",i=" msec.",o=(new Date).getTime();s(t);var u=(new Date).getTime(),a=u-o;console.log(r+a+i),n()}function s(t){e.beforeEach&&e.beforeEach(),t(),e.afterEach&&e.afterEach()}return t.repeat&&t.average?r:t.repeat?n:i},wrap:function(n,r,i,s){var o=this;return e.wrap(s,function(e,t){var s=o.createStrategy(r,i);s(n,e,t)})}},async:{createStrategy:function(t,n){function r(t,r,i){var s=t+" (repeated "+n.repeat+" times) took: ",u=" msec.",a=(new Date).getTime(),f=function(){var e=(new Date).getTime(),t=e-a;console.log(s+t+u),i()},l=[];for(var c=0;c<n.repeat;c++)l.push(o(r,f));e.chain(l,f)}function i(t,r,i){var s=t+" (repeated "+n.repeat+" times) took: ",u=" msec. (in average)",a=(new Date).getTime(),f=function(){var e=(new Date).getTime(),t=(e-a)/n.repeat;console.log(s+t+u),i()},l=[];for(var c=0;c<n.repeat;c++)l.push(o(r,f));e.chain(l,f)}function s(e,t,n){var r=(new Date).getTime(),i=function(){var t=(new Date).getTime(),i=t-r;console.log(e+" took: "+i+" msec."),n()};o(t,i)()}function o(e,n){return function(){t.beforeEach&&t.beforeEach(),e(n),t.afterEach&&t.afterEach()}}return n.repeat&&n.average?i:n.repeat?r:s},wrap:function(n,r,i,s){var o=this;return e.wrap(s,function(e,t){var s=o.createStrategy(r,i);s(n,e,t)})}},establishContext:function(t,n){n&&(this.currentContext={functions:[]},this.contexts[t]=this.currentContext,n(),e.chain(this.contexts[t].functions))},addBenchmark:function(e,t,n){typeof e=="function"?(n=e,e="function call"):typeof t=="function"&&(n=t),t=t||{};var r=n.length===0?this.sync.wrap(e,this.currentContext,t,n):this.async.wrap(e,this.currentContext,t,n);this.currentContext.functions.push(r)},beforeEach:function(e){this.currentContext.beforeEach=e},afterEach:function(e){this.currentContext.afterEach=e}};return t.initialize(),{benchmark:t.establishContext,add:t.addBenchmark,beforeEach:t.beforeEach,afterEach:t.afterEach}}();